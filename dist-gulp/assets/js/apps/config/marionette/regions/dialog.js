define(["marionette","bootstrap"],function(d){return d.Region.Dialog=d.Region.extend({counter:0,modalIdPrefix:"modal-",modalId:"modal",_setModalId:function(){return this.counter++,this.modalId=this.modalIdPrefix+this.counter,this.modalId},_addModalMarkup:function(d){var o=d.$el,a=d.getOption("modalTitle")||"",i=d.getOption("modalClass")||"modal-lg";o.addClass("modal-body").wrap('<div id="'+this.modalId+'" class="modal fade" tabindex="-1" role="dialog"></div>').wrap('<div class="modal-dialog '+i+'"></div>').wrap('<div class="modal-content"></div>');var t=[];t.push('<div class="modal-header">','<button type="button" class="close" data-dismiss="modal">','<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',"</button>",'<h4 class="modal-title" id="exampleModalLabel">',a,"</h4>","</div>"),o.closest(".modal-content").prepend(t.join(""))},_initModal:function(d){$("#"+this.modalId).modal().on("hidden.bs.modal",function(){d.destroy()})},showAsModal:function(d){this._setModalId(),this._addModalMarkup(d),this._initModal(d)},onShow:function(d){this.showAsModal(d)},closeModal:function(){this.currentView&&$("#"+this.modalId).modal("hide")}}),d.Region.Dialog});