define(["marionette","bootstrap"],function(o){return o.Region.Dialog=o.Region.extend({counter:0,modalIdPrefix:"modal-",modalId:"modal",_setModalId:function(){return this.counter++,this.modalId=this.modalIdPrefix+this.counter,this.modalId},_addModalMarkup:function(o){var d=o.$el,a=o.getOption("modalTitle")||"",i=o.getOption("modalClass")||"modal-lg";d.addClass("modal-body").wrap('<div id="'+this.modalId+'" class="modal fade" tabindex="-1" role="dialog"></div>').wrap('<div class="modal-dialog '+i+'"></div>').wrap('<div class="modal-content"></div>');var t=[];t.push('<div class="modal-header">','<button type="button" class="close" data-dismiss="modal">','<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',"</button>",'<h4 class="modal-title" id="exampleModalLabel">',a,"</h4>","</div>"),d.closest(".modal-content").prepend(t.join(""))},_initModal:function(o){$("#"+this.modalId).modal().on("hidden.bs.modal",function(){o.destroy(),require(["app"],function(o){o.stopDialogApp()})})},showAsModal:function(o){this._setModalId(),this._addModalMarkup(o),this._initModal(o)},onShow:function(o){this.showAsModal(o)},closeModal:function(){this.currentView&&$("#"+this.modalId).modal("hide")}}),o.Region.Dialog});