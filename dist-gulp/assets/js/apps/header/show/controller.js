define(["app","apps/header/show/view","common/authenticate","cache/cache"],function(e,o,n){return e.module("HeaderApp.Show",function(e,r,t,a,c,h){e.Controller={showHeader:function(){var e=r.request("cache:get:logged:user");console.log("App.HeaderApp: fetched user from cache: ",e),e===!1||e instanceof t.Model||(e=r.request("empty:user:entity"));var a=new o.Header({model:e});a.on("show:home",function(){e?r.showLanding(e):r.trigger("splash:show")}),a.on("logout:user",function(){n.logout().done(function(){r.trigger("logout")})}),r.rootView.showChildView("header",a)}}}),e.HeaderApp.Show.Controller});