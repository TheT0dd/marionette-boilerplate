define(["jquery","jquery.cookie"],function(e){var t={};return t.csrfSafeMethod=function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)},t.sameOrigin=function(e){var t=document.location.host,o=document.location.protocol,n="//"+t,r=o+n;return e===r||e.slice(0,r.length+1)===r+"/"||e===n||e.slice(0,n.length+1)===n+"/"||!/^(\/\/|http:|https:).*/.test(e)},t.enableCORS=function(){e.ajaxSetup({xhrFields:{withCredentials:!0},crossDomain:!0})},t.setupCSRFToken=function(){var o=e.cookie("csrftoken");console.log("csrftoken: ",o),e.ajaxSetup({beforeSend:function(e,n){!t.csrfSafeMethod(n.type)&&t.sameOrigin(n.url)&&(console.log("setRequestHeader csrftoken: ",o),e.setRequestHeader("X-CSRFToken",o))}})},t});